# Access Points for general purpose buckets

***Create a Bucket***
![171](https://github.com/user-attachments/assets/7b30ca75-16d5-4253-bf5f-31a59fa8261b)

***Select Bucket***
![172](https://github.com/user-attachments/assets/8ae0fbb2-ecdc-458c-b15f-4d674361a2c4)

***Create two object folder***
![173](https://github.com/user-attachments/assets/91c49425-49fd-4097-98b2-7ae2144fd436)

***Edit Policy***
![174](https://github.com/user-attachments/assets/5118e99d-c754-49fd-b3eb-d0f56c277f6a)

***Write or Generate policy***
![175](https://github.com/user-attachments/assets/0cce8497-d9ac-4d0e-82c4-b7bf58822c92)

**JSON code**
```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Principal": {
        "AWS": "*"
      },
      "Action": "s3:*",
      "Resource": [
        "arn:aws:s3:::demo-s3-1674",
        "arn:aws:s3:::demo-s3-1674/*"
      ],
      "Condition": {
        "StringEquals": {
          "s3:DataAccessPointAccount": "020102663352"
        }
      }
    }
  ]
}
```
# Explanation JSON code

- **Effect**: `Allow`  
  Grants permission for the specified actions.

- **Principal**: `*`  
  The policy applies to **all users** (i.e., anyone).

- **Action**: `s3:*`  
  Grants **all possible S3 actions**, such as `s3:GetObject`, `s3:PutObject`, etc.

- **Resource**:  
  Specifies the **bucket and all objects within the bucket** to which the permissions apply.

- **Condition**:  
  Restricts access to requests **coming from a specific Data Access Point Account** (`020102663352`).

***Create a user***
![177](https://github.com/user-attachments/assets/fc5a2bd5-e736-4b82-986e-defe861fd45d)
![178](https://github.com/user-attachments/assets/1e2af030-467f-400b-bfb0-3c31205a18aa)

***Create & Attach Policy***
![179](https://github.com/user-attachments/assets/1d173422-2874-497b-a3a8-d0214569210e)

**JSON Code**
```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Sid": "VisualEditor0",
      "Effect": "Allow",
      "Action": [
        "s3:GetAccessPoint",
        "s3:ListAllMyBuckets",
        "s3:ListAccessPoints",
        "s3:ListBucketVersions",
        "s3:ListBucket"
      ],
      "Resource": "*"
    }
  ]
}
```
# Explanation JSON code

- **Sid**: `VisualEditor0`  
  Statement ID, typically autogenerated by the AWS Management Console.

- **Effect**: `Allow`  
  Grants the specified permissions.

- **Action**:  
  List of allowed S3 actions:
  - `s3:GetAccessPoint` – Get details of an access point.
  - `s3:ListAllMyBuckets` – List all S3 buckets owned by the user.
  - `s3:ListAccessPoints` – List all S3 access points.
  - `s3:ListBucketVersions` – List object versions in a bucket.
  - `s3:ListBucket` – List objects within a bucket.

- **Resource**: `*`  
  Applies to **all resources**.

***Downlode .csv file for credentials***
![180](https://github.com/user-attachments/assets/38eecb60-3859-49ed-8d9a-972f7228da70)

***Login user in another Browser using downloded credential***
![181](https://github.com/user-attachments/assets/ee4e9e48-7603-4bda-a5b0-16f3088207f1)

***Go Previous Browser & Create access point***
![183](https://github.com/user-attachments/assets/e0337925-9929-42ac-9345-44d917cb759f)
![185](https://github.com/user-attachments/assets/29430002-8358-41f4-96c0-5469c5464ffd)

***Write Policy using ARN***
![187](https://github.com/user-attachments/assets/2aebd14a-e3e1-487e-94f9-7ae06b81549a)

**JSON Code**

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Principal": {
        "AWS": "arn:aws:iam::020102663352:user/Zara"
      },
      "Action": [
        "s3:GetObject",
        "s3:PutObject"
      ],
      "Resource": "arn:aws:s3:us-east-1:020102663352:accesspoint/zara-access-point/object/chinki/*"
    }
  ]
}
```
# Explanation JSON code

- **Effect**: `Allow`  
  Grants the specified actions.

- **Principal**:  
  Specifies the IAM user **Zara** in AWS account `020102663352`.

- **Action**:  
  - `s3:GetObject` – Allows Zara to **retrieve objects**.
  - `s3:PutObject` – Allows Zara to **upload objects**.

- **Resource**:  
  Targets objects within the `chinki/` path via the **access point** `zara-access-point` in the `us-east-1` region.
![188](https://github.com/user-attachments/assets/6d4c9863-69e5-4dd4-855a-a9027f127641)

***Go to Browser there another user is logged in***
![195](https://github.com/user-attachments/assets/17d908ae-0f7c-4c8a-b05c-8ee048cb2805)

***Select Access Point***
![196](https://github.com/user-attachments/assets/c012683e-a390-43ed-b7ee-512e4da83916)

***Select folder Gonna Access Point***
![197](https://github.com/user-attachments/assets/b6c087c0-25ec-41ba-a517-61c199151b99)

***Upload any object***
![198](https://github.com/user-attachments/assets/bda790e0-edbc-4898-bf16-4e858f765e2b)

***Successfully Uploaded***
![199](https://github.com/user-attachments/assets/722f5948-59f0-4da7-a4ba-d5ccadaba8f9)

***Select without access point folder***
![201](https://github.com/user-attachments/assets/5ce3cc0a-3074-472c-91a9-38a03aaf731c)

***Trying to upload object but permission denied***
![202](https://github.com/user-attachments/assets/0d6fe8cf-475b-4e45-9f65-5685219cdf08)

***Go to Direct Bucket option***
![203](https://github.com/user-attachments/assets/721045a1-fb77-43c7-a7b9-a55702848286)

***Trying to upload object but access denied**
![204](https://github.com/user-attachments/assets/306479bf-6280-44ff-9530-4df0decf3bf4)


                                          
